argc: 5
argv[0]: ./test_simulator_testsuit
argv[1]: -A
argv[2]: CF
argv[3]: -D
argv[4]: ../data/CF/rmat-16/
V_RW_SPM: total has 6 phy SPM, total addr width 25 bits, each phy spm addr width 22 bits
V_SPM_SINGLE, contains simd 64 blocks, each addr width: 16
V_SPM_SINGLE, contains simd 64 blocks, each addr width: 16
V_SPM_SINGLE, contains simd 64 blocks, each addr width: 16
V_SPM_SINGLE, contains simd 64 blocks, each addr width: 16
V_SPM_SINGLE, contains simd 64 blocks, each addr width: 16
V_SPM_SINGLE, contains simd 64 blocks, each addr width: 16
[ASE]: mapped dsm ptr:0x7fe1cce5f000, succeeded!
[ASE]: start simulatoin loop, max cycles per turn: 1410065408
csr edge num: 1048577
clk: 0, flush_stage=0, scheduler_in_v_task=0, scheduler_send_e_task=0, M09_write_to_spm=0, M09_write_to_id_fifo=0, M09_write_to_data_fifo=0, M09_alu_in_num=0, M09_alu_out_num=0, M09_update_dst_read_single_get_task_num=0, M09_update_dst_read_single_send_task_num=0, M09_update_dst_read_single_read_spm_num=0, M09_update_dst_read_single_get_spm_data_num=0
clk: 0, M08_combiner_rv_ct=0, M08_combiner_send_ct=0
0
m02_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m03_v_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m03_e_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m04_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m05_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m06_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m07_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m08_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
m09_full: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
clk: 1, rd_active_vertex: change empty, front=0, now=1
clk: 1, rd_active_vertex: change empty, front=0, now=1
[ASE_dev]: trigger ase event: 4
csr vertex num: 65536
CSR graph loaded
Loaded edges: 1048577Ignored edges : 0
Number of Triangles: 5419
Number of Embeddings Traversed: 5419
Cycles Consumed: 363629
GTSPS: 55.9417
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
Empty line @ 17
1 scalar
1 scalar
1 scalar
Empty line @ 21
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
Empty line @ 27
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
Empty line @ 37
1 scalar
1 vector
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 vector
1 vector
1 vector
1 vector
Empty line @ 54
Empty line @ 55
1 vector
1 vector
1 vector
1 vector
1 vector
Empty line @ 61
1 scalar
1 vector
1 vector
1 vector
1 vector
1 vector
1 vector
1 vector
1 vector
1 vector
1 vector
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 vector
Empty line @ 80
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
1 scalar
[AAS_dev]: wait for AAS_SOC_READY
[ASE_dev]: SOC READY!
[AAS_dev]: DMA data to lpddr, src ptr: 0x7ffe67db3e20, dst: 0, len:256
[AAS_dev]: DMA data to lpddr, dma ptr h: 0x7ffe, ptr l: 0x67db3e20
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x7ffe, ptr l: 0x67db3e20, src ptr: 0x7ffe67db3e20
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0x0, dst ptr: 0x0
[SIMULATOR]: DMA len: 256
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 4 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: DMA data to lpddr, src ptr: 0x7fe1cc219800, dst: 12582912, len:262144
[AAS_dev]: DMA data to lpddr, dma ptr h: 0x7fe1, ptr l: 0xcc219800
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x7fe1, ptr l: 0xcc219800, src ptr: 0x7fe1cc219800
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0xc00000, dst ptr: 0xc00000
[SIMULATOR]: DMA len: 262144
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 4096 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: DMA data to lpddr, src ptr: 0x7fe1cc219804, dst: 16777216, len:262144
[AAS_dev]: DMA data to lpddr, dma ptr h: 0x7fe1, ptr l: 0xcc219804
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x7fe1, ptr l: 0xcc219804, src ptr: 0x7fe1cc219804
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0x1000000, dst ptr: 0x1000000
[SIMULATOR]: DMA len: 262144
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 4096 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: DMA data to lpddr, src ptr: 0x7fe1cc1d7800, dst: 4194304, len:262144
[AAS_dev]: DMA data to lpddr, dma ptr h: 0x7fe1, ptr l: 0xcc1d7800
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x7fe1, ptr l: 0xcc1d7800, src ptr: 0x7fe1cc1d7800
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0x400000, dst ptr: 0x400000
[SIMULATOR]: DMA len: 262144
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 4096 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: DMA data to lpddr, src ptr: 0x7fe1cc1d7800, dst: 8388608, len:262144
[AAS_dev]: DMA data to lpddr, dma ptr h: 0x7fe1, ptr l: 0xcc1d7800
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x7fe1, ptr l: 0xcc1d7800, src ptr: 0x7fe1cc1d7800
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0x800000, dst ptr: 0x800000
[SIMULATOR]: DMA len: 262144
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 4096 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: DMA data to lpddr, src ptr: 0x7fe1cc25c800, dst: 20971520, len:4194308
[AAS_dev]: DMA data to lpddr, dma ptr h: 0x7fe1, ptr l: 0xcc25c800
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x7fe1, ptr l: 0xcc25c800, src ptr: 0x7fe1cc25c800
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0x1400000, dst ptr: 0x1400000
[SIMULATOR]: DMA len: 4194308
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 65537 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: start kernel with Bin file: ../test/asm/bin/cf_dma.bin
[AAS_dev]: kernel file size:10319
[AAS_dev]: binary file contains instr: 80, total size in ints: 2560 (aka 10240 bytes)
[AAS_dev]: DMA data to instr mem, len:10240
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[SIMULATOR]: DMA src ptr h: 0x6260, ptr l: 0xcc100, src ptr: 0x6260000cc100
[SIMULATOR]: DMA dst ptr h: 0x0, ptr l: 0x1400000, dst ptr: 0x1400000
[SIMULATOR]: DMA len: 10240
[SIMULATOR]: adaptor select instr pass
clk: 509, cpu dma req, src ptr: 0x6260000cc100, dst ptr: 0x1400000, len: 10240, cmd: 1
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: start core...
[AAS_dev]: wait for AAS_SOC_KERNEL_DONE
[ASE]: start kernel, chagne m_select from 1 to 0
clk: 671, inst_decoder_s_single: get and send scalar_inst, I-type=3, imm=4194304, func=32, rd=1, rs1=0, rs2=0, exer_id=4
clk: 672, inst_decoder_s_single: get and send scalar_inst, I-type=3, imm=8388608, func=32, rd=2, rs1=0, rs2=0, exer_id=4
clk: 673, inst_decoder_s_single: get and send scalar_inst, I-type=3, imm=12582912, func=32, rd=3, rs1=0, rs2=0, exer_id=4
clk: 673, issue_top: send scalar instruction, exer_id=4, func=32, rd=1, rs1=0, rs2=0, imm: 4194304
clk: 674, inst_decoder_s_single: get and send scalar_inst, I-type=3, imm=16777216, func=32, rd=4, rs1=0, rs2=0, exer_id=4
clk: 674, issue_top: send scalar instruction, exer_id=5, func=32, rd=2, rs1=0, rs2=0, imm: 8388608
clk: 675, inst_decoder_s_single: get and send scalar_inst, I-type=3, imm=20971520, func=32, rd=5, rs1=0, rs2=0, exer_id=4
clk: 676, inst_decoder_s_single: get and send scalar_inst, I-type=3, imm=256, func=32, rd=7, rs1=0, rs2=0, exer_id=4
clk: 677, inst_decoder_s_single: get and send scalar_inst, I-type=9, imm=0, func=32, rd=0, rs1=0, rs2=7, exer_id=13
clk: 678, issue_top: send scalar instruction, exer_id=4, func=32, rd=3, rs1=0, rs2=0, imm: 12582912
clk: 679, issue_top: send scalar instruction, exer_id=5, func=32, rd=4, rs1=0, rs2=0, imm: 16777216
clk: 683, issue_top: send scalar instruction, exer_id=4, func=32, rd=5, rs1=0, rs2=0, imm: 20971520
clk: 684, issue_top: send scalar instruction, exer_id=5, func=32, rd=7, rs1=0, rs2=0, imm: 256
clk: 685, inst_decoder_s_single: get and send scalar_inst, I-type=9, imm=0, func=6, rd=0, rs1=0, rs2=0, exer_id=13
clk: 686, inst_decoder_s_single: get and send scalar_inst, I-type=7, imm=0, func=34, rd=7, rs1=0, rs2=0, exer_id=9
clk: 687, inst_decoder_s_single: get and send scalar_inst, I-type=7, imm=4, func=34, rd=8, rs1=0, rs2=0, exer_id=9
clk: 688, inst_decoder_s_single: get and send scalar_inst, I-type=1, imm=2, func=34, rd=9, rs1=7, rs2=0, exer_id=0
clk: 689, issue_top: send scalar instruction, exer_id=13, func=32, rd=0, rs1=0, rs2=7, imm: 0
clk: 691, dma exer, l2s, dram ptr:0x0, spm addr:0x0, size (bits):2048
clk: 691, dma engine, trans valid:1, swap start:1, ready:1, running:0, dram addr:0, spm addr:0, direct: 0
clk: 691, swap spm controller get req: cs: 0, direct:0, size:256 bytes
clk: 691, swap spm controller get req, dram addr:0, spm addr:0, trans direct:0, selected spm: 0, size: 256 bytes
clk: 762, swap spm, wr done
clk: 763, swap spm controller ALL done
clk: 765, dma_exer COMPLETE
clk: 767, issue_top: send scalar instruction, exer_id=13, func=6, rd=0, rs1=0, rs2=0, imm: 0
clk: 768, issue_top: send scalar instruction, exer_id=9, func=34, rd=7, rs1=0, rs2=0, imm: 0
clk: 769, issue_top: send scalar instruction, exer_id=10, func=34, rd=8, rs1=0, rs2=0, imm: 4
clk: 769, dma exer, dma barrier
clk: 770, inst_decoder_s_single: get and send scalar_inst, I-type=1, imm=2, func=34, rd=10, rs1=8, rs2=0, exer_id=0
clk: 770, lsu, read data from 0, valid 1
clk: 770, dma_exer COMPLETE
clk: 402407, wr dram addr: 0x83fb40, 8649536, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402408, wr dram addr: 0x83fb80, 8649600, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402409, wr dram addr: 0x83fbc0, 8649664, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402410, wr dram addr: 0x83fc00, 8649728, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402411, wr dram addr: 0x83fc40, 8649792, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402412, wr dram addr: 0x83fc80, 8649856, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402413, wr dram addr: 0x83fcc0, 8649920, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402414, wr dram addr: 0x83fd00, 8649984, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402415, wr dram addr: 0x83fd40, 8650048, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402416, wr dram addr: 0x83fd80, 8650112, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402417, wr dram addr: 0x83fdc0, 8650176, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402418, wr dram addr: 0x83fe00, 8650240, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402419, wr dram addr: 0x83fe40, 8650304, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402420, wr dram addr: 0x83fe80, 8650368, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402421, wr dram addr: 0x83fec0, 8650432, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402422, wr dram addr: 0x83ff00, 8650496, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402423, wr dram addr: 0x83ff40, 8650560, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402424, wr dram addr: 0x83ff80, 8650624, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402425, wr dram addr: 0x83ffc0, 8650688, data: [0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 ]
clk: 402431, swap spm, wr done
clk: 402432, swap spm controller ALL done
clk: 402434, dma_exer COMPLETE
clk: 402436, issue_top: send scalar instruction, exer_id=13, func=6, rd=0, rs1=0, rs2=0, imm: 0
clk: 402438, dma exer, dma barrier
clk: 402439, dma_exer COMPLETE
[ASE_dev]: trigger ase event: 8
[ASE_dev]: SOC KERNEL DONE!
[Simulator]: copy data from lpddr to CPU ...
[AAS_dev]: DMA data from lpddr to cpu, src ptr: 0x800000, dst ptr: 0xcc195800, len:64
[AAS_dev]: wait for AAS_SOC_DMA_DONE
[ASE_dev]: trigger ase event: 8
[SIMULATOR]: DMA src ptr h: 0x0, ptr l: 0x800000, src ptr: 0x800000
[SIMULATOR]: DMA dst ptr h: 0x7fe1, ptr l: 0xcc195800, dst ptr: 0x7fe1cc195800
[SIMULATOR]: DMA len: 64
[SIMULATOR]: adaptor select LPDDR pass
[SIMULATOR]: CPU DMA will use 1 clks via 64GB/s
[ASE_dev]: trigger ase event: 2
[ASE_dev]: dma done!
[AAS_dev]: wait for AAS_SOC_DONE
[ASE]: stop core...
[ASE_dev]: exit simulation, sim_done:1
[ASE]: simulation done, wait another request ...
[ASE_dev]: trigger ase event: 1
[ASE]: simulator exit
[ASE_dev]: SOC done!
[Simulator]: LPDDR to CPU done, check result
CF summary:
CF passed on dataset ../data/CF/rmat-16/, cpu cf: 5419, soc cf: 5419
CF cnt: 5419, traversed CF cnt: 20342036
total cycles: 401781
CF performance: 50.629662 GTSPS
GTSPS/W: 2.175603
